@{
    ViewData["Title"] = "Driver Login - SUPREA LOGISTICS";
}
@model SUPREA_LOGISTICS.Models.User

<div class="min-vh-100 min-vw-100 position-relative d-flex align-items-center justify-content-center p-4">

    <!-- Background -->
    <div class="position-absolute top-0 start-0 w-100 h-100 z-0">
        <img src="~/images/Bg.jpg"
             alt="Construction site background"
             class="w-100 h-100 object-fit-cover" />

        <!-- Dark overlay -->
        <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark opacity-50"></div>

        <!-- Blur overlay -->
        <div class="position-absolute top-0 start-0 w-100 h-100"
             style="backdrop-filter: blur(2px);"></div>
    </div>

    <!-- Card -->
    <div class="position-relative z-1 w-100" style="max-width: 420px;">
        <div class="card border-0 shadow-lg rounded-4 p-4 p-md-5 bg-white">

            <!-- Header -->
            <div class="text-center mb-4">
                <div class="d-flex justify-content-center mb-3">
                    <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center"
                         style="width:70px; height:70px;">
                        <i class="fa-solid fa-truck text-white fs-2"></i>
                    </div>
                </div>

                <h1 class="fw-bold text-dark mb-1" style="letter-spacing: 1px;">
                    SUPREA LOGISTICS
                </h1>
                <p class="text-muted mb-0">Driver Portal</p>
            </div>

            <!-- Form -->
            <form asp-action="Login" method="post" class="d-grid gap-3">

               @*  <!-- Login Type Toggle -->
                <div class="bg-light p-1 rounded-3 d-flex gap-2">
                    <button type="button" class="btn btn-sm w-50 btn-outline-primary" id="btnPhone">
                        <i class="fa-solid fa-phone me-2"></i>Phone
                    </button>
                    <button type="button" class="btn btn-sm w-50 btn-primary" id="btnEmail">
                        <i class="fa-solid fa-envelope me-2"></i>Email
                    </button>
                </div> *@

              @*   <!-- Phone Input -->
                <div id="phoneGroup" class="d-none">
                    <label class="form-label fw-semibold">Phone Number</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fa-solid fa-phone text-muted"></i>
                        </span>
                        <input type="tel"
                               name="PhoneNumber"
                               class="form-control"
                               placeholder="+63 9XX XXX XXXX"
                               autocomplete="tel"
                               required />
                    </div>
                </div> *@

                <!-- Email Input -->
                <div id="emailGroup">
                    <label class="form-label fw-semibold">Email Address</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fa-solid fa-envelope text-muted"></i>
                        </span>
                        <input type="email"
                               for="email"
                               name="Email"
                               class="form-control"
                               placeholder="you@example.com"
                               autocomplete="email"
                               required />
                    </div>
                </div>

                <!-- Password -->
                <div>
                    <label class="form-label fw-semibold">Password</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fa-solid fa-lock text-muted"></i>
                        </span>
                        <input type="password"
                               name="Password"
							   for="password"
                               class="form-control"
                               id="passwordInput"
                               placeholder="••••••••"
                               autocomplete="current-password"
                               required />
                        <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                            <i class="fa-solid fa-eye" id="eyeIcon"></i>
                        </button>
                    </div>
                </div>

                <!-- Error (optional from TempData) -->
                @if (TempData["Error"] != null)
                {
                    <div class="alert alert-danger py-2 mb-0">
                        @TempData["Error"]
                    </div>
                }

                <!-- Forgot Password -->
                <div class="text-end">
                    <a href="#" class="text-decoration-none small text-primary fw-semibold">
                        Forgot password?
                    </a>
                </div>

                <!-- Submit -->
                <button type="submit" class="btn btn-primary btn-lg rounded-3 fw-semibold">
                    Sign In
                </button>
            </form>

            <p class="text-center text-muted small mt-4 mb-0">
                Need help? Contact your supervisor
            </p>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Toggle Login Type
        // const btnPhone = document.getElementById("btnPhone");
        // const btnEmail = document.getElementById("btnEmail");
        // const phoneGroup = document.getElementById("phoneGroup");
        // const emailGroup = document.getElementById("emailGroup");

        // btnPhone.addEventListener("click", () => {
        //     phoneGroup.classList.remove("d-none");
        //     emailGroup.classList.add("d-none");

        //     btnPhone.classList.remove("btn-outline-primary");
        //     btnPhone.classList.add("btn-primary");

        //     btnEmail.classList.remove("btn-primary");
        //     btnEmail.classList.add("btn-outline-primary");
        // });

        // btnEmail.addEventListener("click", () => {
        //     emailGroup.classList.remove("d-none");
        //     phoneGroup.classList.add("d-none");

        //     btnEmail.classList.remove("btn-outline-primary");
        //     btnEmail.classList.add("btn-primary");

        //     btnPhone.classList.remove("btn-primary");
        //     btnPhone.classList.add("btn-outline-primary");
        // });

        // Show/Hide Password
        const togglePassword = document.getElementById("togglePassword");
        const passwordInput = document.getElementById("passwordInput");
        const eyeIcon = document.getElementById("eyeIcon");

        togglePassword.addEventListener("click", () => {
            const isHidden = passwordInput.type === "password";
            passwordInput.type = isHidden ? "text" : "password";
            eyeIcon.className = isHidden ? "fa-solid fa-eye-slash" : "fa-solid fa-eye";
        });
    </script>
}
